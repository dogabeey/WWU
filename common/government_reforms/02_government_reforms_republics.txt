republic_mechanic = {
	basic_reform = yes
	republican_name = yes
	royal_marriage = no
	republic = yes
	duration = 4
	has_term_election = yes
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	conditional = {
		allow = { has_dlc = "Common Sense" }
		has_parliament = yes
	}
	valid_for_nation_designer = no
}

ancient_civilization_reform = {
	icon = "ancient_dynasty"
	legacy_equivalent = ancient_civilization_legacy
	allow_normal_conversion = no
	valid_for_new_country = yes
	valid_for_nation_designer = no
	nation_designer_cost = 0
	has_term_election = no
	
	potential = {
		is_ancient = yes
	}
	
	militarised_society = yes
	government_abilities = {  }
	modifiers = {
		monarch_diplomatic_power = 1
		claim_duration = 1
    	idea_cost = 0.15
	}
	ai = { factor = 0 }
}

magocracy = {
	icon = "magocracy"
	allow_normal_conversion = no
	legacy_equivalent = magocracy_legacy
	valid_for_nation_designer = no
	nation_designer_cost = 0
	royal_marriage = no
	has_term_election = yes
	election_on_death = yes
	duration = 10
	
	potential = {
		#NOT = { has_reform = presidential_despot_reform }
		NOT = { has_reform = colonial_government }
		OR = {
			religion = religion_arcane
			religion = religion_chaos
			religion = religion_fel
		}
	}
	
	conditional = {
		allow = { has_dlc = "Cradle of Civilization" }
		government_abilities = {
			mamluk_mechanic
		}
		election_on_death = no
		foreign_slave_rulers = yes
	}
	government_abilities = {  }

	modifiers = {
		governing_capacity = 100
		global_tax_modifier = 0.10
		tolerance_heathen = 1
		global_autonomy = -0.10
		max_absolutism = -30
	}
}

merchants_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	modifiers = {
		max_absolutism = -50
		merchants = 1
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 40
	legacy_equivalent = merchant_republic
	potential = {
		NOT = {
			NOT = { map_setup = map_setup_random }
		}
	}
	trigger = {
		OR = {
			has_reform = merchants_reform
			crown_stronger_than_estate = { estate = all }
		}
	}
	boost_income = yes
	duration = 4
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = trading_city
	}
	custom_attributes = {
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
		is_merchant_republic = yes
	}
	ai = {
		factor = 0.75 #generic
		
		modifier = {
			factor = 0
			num_of_cities = 11
		}
		
		modifier = {
			factor = 0
			capital_scope = { has_port = no }
		}
		
		modifier = {
			factor = 0
			NOT = {
				capital_scope = { province_has_center_of_trade_of_level = 1 }
			}
		}
		
		modifier = {
			factor = 0
			is_subject = yes
		}
	}
}

pirate_republic_reform = {
	icon = "pirate_republic"
	allow_normal_conversion = yes
	
	legacy_equivalent = pirate_republic
	modifiers = {
		max_absolutism = -50
		naval_forcelimit_modifier = 0.10
		naval_morale = 0.10
		navy_tradition_decay = -0.01
		capture_ship_chance = 0.10
		may_perform_slave_raid_on_same_religion = yes
	}
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	has_term_election = no
	
	conditional = {
		allow = { has_dlc = "Common Sense" }
		has_parliament = no
	}
	
	potential = {
		any_owned_province = {
			has_port = yes
		}
		#NOT = { has_reform = presidential_despot_reform }
		NOT = { has_reform = free_city }
		NOT = { has_reform = trading_city }
		NOT = { has_reform = colonial_government }
	}
	
	government_abilities = {  }

factions = {
		pr_buccaneers
		pr_smugglers
		pr_captains
	}
	
	custom_attributes = {
		force_admiral_leader = yes
		lottery_election = yes
		election_on_death = yes
	}
	
	
	boost_income = yes
	
}

noble_elite_reform = {
	icon = "nobleman"
	allow_normal_conversion = yes
	legacy_equivalent = noble_republic
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	
	government_abilities = {  }

	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	
	potential = {
		#NOT = { has_reform = presidential_despot_reform }
		NOT = { has_reform = free_city }
		NOT = { has_reform = trading_city }
		NOT = { has_reform = colonial_government }
	}
	
	modifiers = {
		governing_capacity = 100
		tolerance_heathen = 1
		cavalry_power = 0.10
		free_leader_pool = 1
		max_absolutism = -35
	}
	duration = 12

	royal_marriage = yes
	
	conditional = {
		allow = {
			has_dlc = "Third Rome"
		}
		government_abilities = {
			russian_mechanic
		}
	}
}
# This is localized as meritocracy
bureaucratic_despotism_reform = {
	icon = "politician"
	allow_normal_conversion = yes
	legacy_equivalent = bureaucratic_despotism
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	
	duration = 10
	
	potential = {
		#NOT = { has_reform = presidential_despot_reform }
		NOT = { has_reform = free_city }
		NOT = { has_reform = trading_city }
		NOT = { has_reform = colonial_government }
	}
	
	custom_attributes = {
		generals_become_rulers = yes
	}
	
	government_abilities = {  }
	
	modifiers = {
		governing_capacity = 100
		global_autonomy = -0.10
		stability_cost_modifier = -0.10
		global_unrest = -1
		harsh_treatment_cost = -0.10
	}
	
}
peasants_republic = {
	allow_normal_conversion = yes
	icon = "peasant_republic"
	valid_for_nation_designer = yes
	nation_designer_cost = 0
	legacy_equivalent = peasants_republic_legacy
	
	government_abilities = {  }
	
	potential = {
		#NOT = { has_reform = presidential_despot_reform }
		NOT = { has_reform = free_city }
		NOT = { has_reform = trading_city }
		NOT = { has_reform = colonial_government }
	}
	
	modifiers = {
		global_trade_goods_size_modifier = 0.10
		land_morale = 0.10
		max_absolutism = -50
		governing_capacity = 100
		global_autonomy = -0.05
	}
	duration = 5
}


free_city = {
	icon = "free_city"
	allow_normal_conversion = no
	potential = {
		has_reform = free_city
	}
	legacy_equivalent = imperial_city
	valid_for_nation_designer = yes
	lock_level_when_selected = yes
	nation_designer_cost = 40
	nation_designer_trigger = {
		capital_scope = { is_part_of_hre = yes }
		NOT = { num_custom_nation_provinces = 2 }
	}

	free_city = yes
	modifiers = {
		trade_efficiency = 0.1
		development_cost = -0.1
		max_absolutism = -20
		traders_influence_modifier = 0.15
	}
	fixed_rank = 1

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	duration = 4
}
trading_city = {
	icon = "trading_city"
	allow_normal_conversion = no
	potential = {
		has_reform = trading_city
	}
	valid_for_nation_designer = no
	legacy_equivalent = trading_city_legacy
	boost_income = yes
	lock_level_when_selected = yes
	is_trading_city = yes
	factions = {
		mr_aristocrats
		mr_traders
		mr_guilds
	}
	modifiers = {
		max_absolutism = -20
		global_trade_power = 0.1
		max_absolutism = -20
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}

	conditional = {
		allow = {
			has_dlc = "Res Publica"
			NOT = { has_dlc = "Mare Nostrum" }
		}
		can_use_trade_post = yes
	}
	conditional = {
		allow = {
			has_dlc = "Mare Nostrum"
			NOT = { has_dlc = "Res Publica" }
		}
		can_form_trade_league = yes
		trade_city_reform = merchants_reform # For trade cities this is their fallback government if they get more than 1 provinces
	}
	conditional = {
		allow = {
			has_dlc = "Res Publica"
			has_dlc = "Mare Nostrum"
		}
		can_use_trade_post = yes
		can_form_trade_league = yes
		trade_city_reform = merchants_reform # For trade cities this is their fallback government if they get more than 1 provinces
	}
	duration = 4
}

colonial_government = {
	icon = "peasants"
	valid_for_nation_designer = no
	lock_level_when_selected = yes
	allow_normal_conversion = no
	fixed_rank = 1
	potential = {
		is_colonial_nation = yes
	}
	legacy_equivalent = colonial_government_legacy
	modifiers = {
		global_autonomy = -0.05
		recover_army_morale_speed = 0.02
		embracement_cost = -0.1
		governing_capacity = 100
	}

	custom_attributes = {
		locked_government_type = yes
		enables_plutocratic_idea_group = yes
		enables_aristocratic_idea_group = no
	}
	duration = 4
}
