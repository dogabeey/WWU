# From original EU4
country_decisions = {

	cultural_shift = {
		potential = {
			capital_scope = {
				NOT = { culture = ROOT }
			}
			NOT = { is_landless = yes }
		}
		allow =  {
			dominant_culture = capital
			stability = 1
			is_at_war = no 
			is_subject = no
		}
	  	effect = {
			change_primary_culture = capital
			if = {
				limit = { NOT = { has_reform = remnant_basic_reform } }
				add_adm_power = -200
				add_dip_power = -200
				add_mil_power = -200
				add_stability = -3
			}
			add_country_modifier = {
				name = changed_primary_culture
				duration = 1000
				desc = changed_primary_culture.desc
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	cultural_purge = {
		potential = {
			OR = {
				is_savage = yes
				is_pure_evil = yes
				has_reform =  military_organization_reform
				AND = {
					current_age = the_first_war
					is_at_war = yes
				}
			}
			any_owned_province = {
				NOT = { culture = ROOT }
			}
			NOT = { is_landless = yes }
		}
		allow =  {
			mil_power = 100
			NOT = { has_country_modifier = purged_race_nation }
		}
	  	effect = {
			add_mil_power = -100
			add_country_modifier = {
				name = purged_race_nation
				duration = 1000
				desc = purged_race_nation.desc
			}
			random_owned_province = {
				limit = { NOT = { culture = ROOT } }
				#### Complicated calculation ####
				if = {
					limit = {
						development = 30
					}
					export_to_variable = { which = purge_cost value = development }
					multiply_variable = { which = purge_cost value = -1 }
				}
				else = {
					set_variable = { which = purge_cost value = -30 }
				}
				if = {
					limit = {
						any_neighbor_province = {
							culture = ROOT
						}
					}
					multiply_variable = { which = purge_cost value = 0.5 }
				}
				if = {
					limit = {
						is_overseas = yes
						religion = ROOT
					}
					multiply_variable = { which = purge_cost value = 0.2 }
				}
				ROOT = {
					set_variable = { which = purge_cost which = PREV } #transfer variable from province
					add_mil_power_var = { var=purge_cost } #add mil power according to cost
				}
				set_variable = { which = purge_cost value = 0 } #clear variable in province
				add_devastation = 20
				every_country = {
					limit = {
						primary_culture = PREV
					}
					add_opinion = {
						who = ROOT
						modifier = purged_our_people
					} 
				}
				change_culture = ROOT
				change_religion = ROOT
				add_province_modifier = {
					name = purged_race_province
					duration = 3650
					desc = purged_race_province.desc
				}
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	forced_emigration = {
		potential = {
			NOT = { is_pure_evil = yes }
			NOT = { is_savage = yes }
			NOT = { is_landless = yes }
		}
		allow =  {
			adm_power = 100
			years_of_income = 0.33
			NOT = { has_country_modifier = emigrated_race_nation }
			any_owned_province = {
				NOT = { culture = ROOT }
			}
		}
	  	effect = {
			add_adm_power = -100
			add_country_modifier = {
				name = emigrated_race_nation
				duration = 1000
				desc = emigrated_race_nation.desc
			}
			add_years_of_income = -0.33
			random_owned_province = {
				limit = { NOT = { culture = ROOT } }
				#### Complicated calculation ####
				# Declare variables
				set_variable = {
					which = province_dev
					value = 0
				}
				set_variable = {
					which = adj_bonus
					value = 0
				}
				set_variable = {
					which = overseas_bonus
					value = 0
				}
				#Assign variables
				if = {
					limit = {
						development = 30
					}
					export_to_variable = {
						which = province_dev
						value = development
					}
				}
				else = {
					set_variable = {
						which = province_dev
						value = 30
					}
				}
				if = {
					limit = {
						any_neighbor_province = {
							culture = ROOT
						}
					}
					set_variable = {
						which = adj_bonus
						value = 0.5
					}
				}
				else = {
					set_variable = {
						which = adj_bonus
						value = 1
					}
				}
				if = {
					limit = {
						is_overseas = yes
						religion = ROOT
					}
					set_variable = {
						which = overseas_bonus
						value = 0.2
					}
				}
				else = {
					set_variable = {
						which = overseas_bonus
						value = 1
					}
				}
				# Calculate
				multiply_variable = {
					which = province_dev
					which = adj_bonus
				}
				multiply_variable = {
					which = province_dev
					which = overseas_bonus
				}
				multiply_variable = {
					which = province_dev
					which = -1
				}
				ROOT = { add_adm_power = province_dev }
				add_devastation = 5
				every_country = {
					limit = {
						primary_culture = PREV
					}
					add_opinion = {
						who = ROOT
						modifier = purged_our_people
					} 
				}
				change_culture = ROOT
				change_religion = ROOT
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
}
